<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ayoba Card Game</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="profile-box">
    <button id="btn-login">Login com Discord</button>
    <div id="user-info" style="display: none;">
      <img id="avatar" style="width:32px;height:32px;border-radius:50%" />
      <span id="username"></span>
    </div>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', async () => {
      const sdk = window.discordSdk;

      if (!sdk) {
        alert("Este app precisa ser aberto como uma Atividade no Discord.");
        return;
      }

      await sdk.ready();
      await sdk.connect({ clientId: '1365169402441633852' });

      const user = sdk.user;
      document.getElementById('btn-login').style.display = 'none';
      document.getElementById('user-info').style.display = 'flex';
      document.getElementById('avatar').src = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`;
      document.getElementById('username').innerText = `${user.username}#${user.discriminator}`;
    });
  </script>
</body>
</html>
